<app-navbar></app-navbar>


    <p-fieldset>
        <ng-template pTemplate="header">
            <div class="flex align-items-center text-primary">
                <span class="pi pi-user mr-2"></span>
                <span class="font-bold text-lg">Information utilisateur</span>
            </div>
        </ng-template>
         <div class="mr-4"><u>Prénom :</u> {{ this.loggedUser.prenom }}</div>
         <br>
         <div class="mr-4"><u>Nom de famille :</u> {{ this.loggedUser.nom }}</div>
         <br>
         <div class="mr-4"><u>Votre adresse mail :</u> {{ this.loggedUser.email }}</div>
         <br>
         <div class="mr-4"><u>Vos rôles sont :</u> {{ this.loggedUser.role }}</div>
    </p-fieldset>

    <p-fieldset legend="Modification de profil" [toggleable]="true">
        <p>
            Que souhaitez-vous faire ?
        </p>
        <button pButton pRipple type="button" [icon]="'pi pi-trash'" class="p-button-sm p-button-text p-button-danger" (click)="deleteUser(loggedUser.id)"></button>
        <button pButton pRipple type="button" [icon]="'pi pi-pencil'" class="p-button-sm p-button-text p-button-secondary" (click)="showDialogName()"></button>
        <button pButton pRipple type="button" [icon]="'pi pi-pencil'" class="p-button-sm p-button-text p-button-secondary" (click)="showDialogFirstName()"></button>
    </p-fieldset>

    <!-- Modif prenom utilisateur -->
<p-dialog [(visible)]="visible" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
    <div class="align-items-center flex justify-content-center lg:px-4 md:px-8 ">
        <div class="surface-card p-4 shadow-8 border-round w-full lg:w-9">
            <div class="text-center mb-3">
                <img src="assets/user.png" alt="Image" height="100" class="mb-1">
                <div class="text-900 text-3xl font-medium mb-2"> Modifier votre Prénom</div>
            </div>
            <form [formGroup]="UpdateForm">
            <label for="nom" class="text-900 font-medium mb-2">Changez votre Prénom</label>
            <input id="nom" type="text" placeholder="Nom" pInputText class="w-full mb-3" formControlName="nom">
  
          
  
            <button pButton pRipple type="submit" label="Modifiez" class="w-full p-button-primary mt-2" (click)="updateUserPrenom(loggedUser.id)"></button>
          </form>
        </div>
      </div>
  </p-dialog>

      <!-- Modif nom d'utilisateur -->
<p-dialog [(visible)]="show" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
    <div class="align-items-center flex justify-content-center lg:px-4 md:px-8 ">
      <div class="surface-card p-4 shadow-8 border-round w-full lg:w-9">
          <div class="text-center mb-3">
              <img src="assets/user.png" alt="Image" height="100" class="mb-1">
              <div class="text-900 text-3xl font-medium mb-2"> Modifier votre nom de famille</div>
          </div>
          <form [formGroup]="UpdateForm">
          <label for="nom" class="text-900 font-medium mb-2">Changez votre nom</label>
          <input id="nom" type="text" placeholder="Nom" pInputText class="w-full mb-3" formControlName="nom">

        

          <button pButton pRipple type="submit" label="Modifiez" class="w-full p-button-primary mt-2" (click)="updateUserName(loggedUser.id)"></button>
        </form>
      </div>
    </div>
  </p-dialog>

        <!-- Modif mail utilisateur -->
<p-dialog [(visible)]="show" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
    <div class="align-items-center flex justify-content-center lg:px-4 md:px-8 ">
      <div class="surface-card p-4 shadow-8 border-round w-full lg:w-9">
          <div class="text-center mb-3">
              <img src="assets/user.png" alt="Image" height="100" class="mb-1">
              <div class="text-900 text-3xl font-medium mb-2"> Modifier votre mail</div>
          </div>
          <form [formGroup]="UpdateForm">
          <label for="nom" class="text-900 font-medium mb-2">Changez votre mail</label>
          <input id="mail" type="text" placeholder="Mail" pInputText class="w-full mb-3" formControlName="mail">

        

          <button pButton pRipple type="submit" label="Modifiez" class="w-full p-button-primary mt-2" (click)="updateUserMail(loggedUser.id)"></button>
        </form>
      </div>
    </div>
  </p-dialog>

          <!-- Modif mail utilisateur -->
<p-dialog [(visible)]="show" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
  <div class="align-items-center flex justify-content-center lg:px-4 md:px-8 ">
    <div class="surface-card p-4 shadow-8 border-round w-full lg:w-9">
        <div class="text-center mb-3">
            <img src="assets/user.png" alt="Image" height="100" class="mb-1">
            <div class="text-900 text-3xl font-medium mb-2"> Changez votre mot de passe</div>
        </div>
        <form [formGroup]="UpdateForm">
        <label for="currentPassword" class="text-900 font-medium mb-2">Mot de passe actuel</label>
        <input id="currentPassword" type="password" placeholder="Entrez votre mot de passe actuel" pInputText class="w-full mb-3" formControlName="currentPassword">

        <label for="newPassword" class="text-900 font-medium mb-2">Nouveau mot de passe</label>
        <input id="newPassword" type="password" placeholder="Entrez votre nouveau mot de passe" pInputText class="w-full mb-3" formControlName="newPassword">

        <label for="confirmationPassword" class="text-900 font-medium mb-2">Confirmer votre mot de passe</label>
        <input id="confirmationPassword" type="password" placeholder="Confirmez votre mot de passe" pInputText class="w-full mb-3" formControlName="confirmationPassword">

      

        <button pButton pRipple type="submit" label="Modifiez" class="w-full p-button-primary mt-2" (click)="updateUserPassword(loggedUser.id, changePassword)"></button>
      </form>
    </div>
  </div>
</p-dialog>